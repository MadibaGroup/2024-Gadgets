<!doctype html><html lang=en-us dir=ltr><head><meta charset=UTF-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content="Polynomial Commitment Schemes (PCS) # Say that Carol sends a polynomial to Alice and the same polynomial to Bob. Later Alice and Bob are sitting together and want to make sure their polynomials, which they got from Carol, are actually the same. How do you compare polynomials? There are many sufficient comparisons, but here are two ways to get started:
Ensure the degree $d$ is the same and each coefficient is the same, Ensure the degree $d$ is the same and check at $d+1$ points."><meta name=theme-color media="(prefers-color-scheme: light)" content="#ffffff"><meta name=theme-color media="(prefers-color-scheme: dark)" content="#343a40"><meta name=color-scheme content="light dark"><meta property="og:url" content="http://plonkbook.org/docs/background/kzg/"><meta property="og:site_name" content="Handbook"><meta property="og:title" content="Handbook"><meta property="og:description" content="Polynomial Commitment Schemes (PCS) # Say that Carol sends a polynomial to Alice and the same polynomial to Bob. Later Alice and Bob are sitting together and want to make sure their polynomials, which they got from Carol, are actually the same. How do you compare polynomials? There are many sufficient comparisons, but here are two ways to get started:
Ensure the degree $d$ is the same and each coefficient is the same, Ensure the degree $d$ is the same and check at $d+1$ points."><meta property="og:locale" content="en_us"><meta property="og:type" content="article"><meta property="article:section" content="docs"><title>Kzg | Handbook</title>
<link rel=manifest href=/manifest.json><link rel=icon href=/favicon.png><link rel=canonical href=http://plonkbook.org/docs/background/kzg/><link rel=stylesheet href=/book.min.309b7ed028807cdb68d8d61e26d609f48369c098dbf5e4d8c0dcf4cdf49feafc.css integrity="sha256-MJt+0CiAfNto2NYeJtYJ9INpwJjb9eTYwNz0zfSf6vw=" crossorigin=anonymous><script defer src=/fuse.min.js></script><script defer src=/en.search.min.49934aa6dfc1a33472454bd80d7da315c6c1fc8b4632c3d74e39f6570ab49757.js integrity="sha256-SZNKpt/BozRyRUvYDX2jFcbB/ItGMsPXTjn2Vwq0l1c=" crossorigin=anonymous></script><script id=MathJax-script async src=https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml.js></script><script>MathJax={tex:{displayMath:[["\\[","\\]"],["$$","$$"]],inlineMath:[["\\(","\\)"],["$","$"]]}}</script></head><body dir=ltr><input type=checkbox class="hidden toggle" id=menu-control>
<input type=checkbox class="hidden toggle" id=toc-control><main class="container flex"><aside class=book-menu><div class=book-menu-content><nav><h2 class=book-brand><a class="flex align-center" href=/><span>Handbook</span></a></h2><div class="book-search hidden"><input type=text id=book-search-input placeholder=Search aria-label=Search maxlength=64 data-hotkeys=s/><div class="book-search-spinner hidden"></div><ul id=book-search-results></ul></div><script>document.querySelector(".book-search").classList.remove("hidden")</script><ul><li><p><strong>Background</strong></p></li><li><p><a href=/docs/background/overview/>Overview</a></p></li><li><p><a href=/docs/background/poly-iop/>Polynomials</a></p></li><li><p><a href=/docs/background/kzg/ class=active>Commitments</a></p></li><li><p><a href=/docs/background/red-tape/>Red Tape</a></p></li><li><p><a href=/docs/background/proofs/>Proofs</a></p></li><li><p><strong>Gadgets</strong></p></li><li><p><a href=/docs/gadgets/zero1/>zero1</a></p></li><li><p><a href=/docs/gadgets/zero2/>zero2</a></p></li><li><p><a href=/docs/gadgets/rotate/>rotate</a></p></li><li><p><a href=/docs/gadgets/add1/>add1</a></p></li><li><p><a href=/docs/gadgets/add2/>add2</a></p></li><li><p><a href=/docs/gadgets/add3/>add3</a></p></li><li><p><a href=/docs/gadgets/mult1/>mult1</a></p></li><li><p><a href=/docs/gadgets/mult2/>mult2</a></p></li><li><p><a href=/docs/gadgets/mult3/>mult3</a></p></li><li><p><a href=/docs/gadgets/encode/>encode</a></p></li><li><p><a href=/docs/gadgets/shuffle1/>shuffle1</a></p></li><li><p><a href=/docs/gadgets/shuffle2/>shuffle2</a></p></li><li><p><a href=/docs/gadgets/lookup1/>lookup1</a></p></li><li><p><a href=/docs/gadgets/lookup2/>lookup2</a></p></li><li><p><a href=/docs/gadgets/concat/>concat</a></p></li><li><p><a href=/docs/gadgets/range/>range</a></p></li><li><p><a href=/docs/gadgets/circuit/>circuit</a></p></li></ul></nav><script>(function(){var e=document.querySelector("aside .book-menu-content");addEventListener("beforeunload",function(){localStorage.setItem("menu.scrollTop",e.scrollTop)}),e.scrollTop=localStorage.getItem("menu.scrollTop")})()</script></div></aside><div class=book-page><header class=book-header><div class="flex align-center justify-between"><label for=menu-control><img src=/svg/menu.svg class=book-icon alt=Menu>
</label><strong>Kzg</strong>
<label for=toc-control><img src=/svg/toc.svg class=book-icon alt="Table of Contents"></label></div><aside class="hidden clearfix"><nav id=TableOfContents><ul><li><a href=#kzg-polynomial-commitment>KZG Polynomial Commitment</a></li><li><a href=#definitions>Definitions</a></li></ul></nav></aside></header><article class="markdown book-article"><h1 id=polynomial-commitment-schemes-pcs>Polynomial Commitment Schemes (PCS)
<a class=anchor href=#polynomial-commitment-schemes-pcs>#</a></h1><p>Say that Carol sends a polynomial to Alice and the same polynomial to Bob. Later Alice and Bob are sitting together and want to make sure their polynomials, which they got from Carol, are actually the same. How do you compare polynomials? There are many sufficient comparisons, but here are two ways to get started:</p><ol><li>Ensure the degree $d$ is the same and each coefficient is the same,</li><li>Ensure the degree $d$ is the same and check at $d+1$ points.</li></ol><p>Say Alice and Bob go with the second method for their polynomials from Carol, which are both degree 1000. They start checking points and after checking 500 points, the polynomials are the same so far. How confident are they that they have the same polynomial? They are not 100% confident until they check all $d+1$ points but should they be more than 0% confident?</p><p>Imagine Carol is trying to trick them with different polynomials. If Carol knows Alice and Bob will check $P(0),P(1),P(2),\ldots,P(d+1)$, she can make sure the polynomials are the same at the first set of points, hoping they give up early (so Alice and Bob should be 0% confident after checking 500 points).</p><p>However if Alice and Bob choose random points to compare at, then Carol has to get &ldquo;lucky&rdquo; and hope the polynomials happen to be the same at each of those points. The nice thing is we can quantify what &ldquo;lucky&rdquo; means for Carol. Two polynomials of degree $d$ can only match at $d$ points (even if the polynomials are very similar to each, say differing only by one coefficient). Every time Alice and Bob check a random point, the probability that Carol gets lucky and does not get caught presenting different polynomials is $\frac{d}{q}$ where $q$ is the number of points on the polynomial. In a cryptographic setting, $q$ will be the integers $[0,\ldots,q-1]$ for large prime $q$. If $q$ is 256-bits and the polynomial is degree 1000, then the probability Carol can cheat is $\frac{1000}{2^{256}}$ which is negligibly small. So after checking one point, Alice and Bob are not confident with probability $1$. But they are with probability $1-\frac{1000}{2^{256}}$ which is close enough to 1 for practical purposes:</p><p>$0.99999999999999999999999999999999999999999999999999999999999999999999999999136383\ldots$</p><p>So we can add a third probabilistic method for Alice and Bob to use in checking their polynomials:</p><ol start=3><li>Ensure the degree $d$ is the same and check at $1$ random point.</li></ol><p>This is close enough to Method 2 for practical purposes and is materially less work for Alice and Bob. In mathematics, this result is based on the DeMillo–Lipton–Schwartz–Zippel lemma, more commonly known as the Schwartz–Zippel lemma. We will use this idea in building a commitment scheme for polynomials.</p><h2 id=kzg-polynomial-commitment>KZG Polynomial Commitment
<a class=anchor href=#kzg-polynomial-commitment>#</a></h2><h2 id=definitions>Definitions
<a class=anchor href=#definitions>#</a></h2><p><strong>Definition 1 (Polynomial Commitment Scheme).</strong> A polynomial commitment scheme (PCS) is an interactive proof system that enables $\mathcal{P}$ to convince $\mathcal{V}$ that he knows a polynomial, without revealing the polynomial directly. $\mathcal{P}$ and $\mathcal{V}$ run the protocol in three moves: <strong>gen</strong>, <strong>com</strong>, and <strong>open</strong>. [Plonk]</p></article><footer class=book-footer><div class="flex flex-wrap justify-between"></div><script>(function(){function e(e){const t=window.getSelection(),n=document.createRange();n.selectNodeContents(e),t.removeAllRanges(),t.addRange(n)}document.querySelectorAll("pre code").forEach(t=>{t.addEventListener("click",function(){if(window.getSelection().toString())return;e(t.parentElement),navigator.clipboard&&navigator.clipboard.writeText(t.parentElement.textContent)})})})()</script></footer><div class=book-comments></div><label for=menu-control class="hidden book-menu-overlay"></label></div><aside class=book-toc><div class=book-toc-content><nav id=TableOfContents><ul><li><a href=#kzg-polynomial-commitment>KZG Polynomial Commitment</a></li><li><a href=#definitions>Definitions</a></li></ul></nav></div></aside></main></body></html>